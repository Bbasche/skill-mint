"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.isValueType = exports.Promisy = void 0;
const objects_1 = require("./objects");
var Promisy;
(function (Promisy) {
    // If promisy is null or undefined, throws NillableError, else
    // returns value from Promisy.
    async function resolve(promisy) {
        const fov = objects_1.objects.requireNonNil(promisy);
        const awaitable = typeof fov === 'function' ? fov() : fov;
        return await awaitable;
    }
    Promisy.resolve = resolve;
    // If promisy is null or undefined, returns a rejected
    // Promise else returns result of resolve(promisy)
    async function resolveOrReject(promisy, nilError) {
        return objects_1.objects.isNil(promisy)
            ? Promise.reject(new objects_1.NillableError(nilError))
            : resolve(promisy);
    }
    Promisy.resolveOrReject = resolveOrReject;
})(Promisy || (exports.Promisy = Promisy = {}));
function isValueType(v) {
    if (v === null ||
        v === undefined ||
        typeof v === "string" ||
        typeof v === "number" ||
        typeof v === "boolean" ||
        v instanceof Uint8Array) {
        return true;
    }
    if (Array.isArray(v)) {
        return v.every(isValueType);
    }
    return false;
}
exports.isValueType = isValueType;
//# sourceMappingURL=types.js.map